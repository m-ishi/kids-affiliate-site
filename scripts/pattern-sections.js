/**
 * パターン別セクション構成定義
 *
 * 29パターンそれぞれに最適化された9セクション構成を定義
 * auto-article-system.js / auto-generate-article.js から参照
 */

// [商品名]はプロンプト内で置換される
const patternSections = {

  // ========== 購入系パターン ==========

  'where-to-buy': {
    name: '売ってる場所',
    sections: [
      { title: '「[商品名]、どこに売ってるの？」探し回った結果を報告します', chars: '300-400', desc: '店頭で見つからない焦りの共感から入る' },
      { title: '[商品名]を取り扱っている実店舗リスト', chars: '600-800', desc: '西松屋・赤ちゃん本舗・ドラッグストア・コストコなど店舗別の在庫状況を表形式で' },
      { title: 'ネット通販で買うならどこが正解？Amazon・楽天・Yahoo比較', chars: '600-800', desc: '各通販サイトの価格・送料・ポイント還元を比較表で' },
      { title: '最速で届くのはどこ？在庫切れ時の代替ルート', chars: '400-500', desc: '急ぎの時の購入手段、コンビニ受取対応など' },
      { title: '店舗購入 vs ネット購入、結局どっちがお得？', chars: '500-700', desc: 'メリット・デメリットを表で整理。実物確認の重要性にも触れる' },
      { title: '先輩ママパパに聞いた！実際にどこで買った？', chars: '500-600', desc: '口コミベースの購入場所情報' },
      { title: '要注意！こんな場所で買うと損する・トラブルになる', chars: '400-500', desc: '非正規販売、偽物リスク、保証が効かないケース' },
      { title: '「結局どこで買えばいい？」用途別おすすめ購入先', chars: '300-400', desc: '急ぎ・安さ・安心の3パターンで推薦' },
      { title: '今すぐ[商品名]を手に入れるための行動プラン', chars: '200-300', desc: '背中を押す結論' },
    ],
  },

  'lowest-price': {
    name: '最安値比較',
    sections: [
      { title: '[商品名]、どこで買うかで年間○○円も差がつく事実', chars: '300-400', desc: '価格差のインパクトで引き込む' },
      { title: '主要ショップの価格を一覧比較してみた', chars: '700-900', desc: 'Amazon・楽天・Yahoo・ドラッグストアの価格比較表。1枚（1個）あたり単価も算出' },
      { title: 'Amazon定期便 vs 楽天お買い物マラソン、ガチ比較', chars: '600-800', desc: '定期便割引率、ポイント還元、実質価格を計算' },
      { title: 'クーポン・キャンペーンを使った"裏ワザ"的買い方', chars: '500-700', desc: 'ポイント多重取り、タイムセール、初回限定クーポンなど' },
      { title: 'まとめ買い vs 都度買い、どっちが安い？シミュレーション', chars: '500-600', desc: '消費ペースを踏まえたコスト計算' },
      { title: '安く買える時期はいつ？年間セールカレンダー', chars: '400-500', desc: 'プライムデー、ブラックフライデー、楽天セールなど時期別の攻略' },
      { title: '安さだけで選ぶと失敗する理由', chars: '400-500', desc: '送料、品質、使用期限などの落とし穴' },
      { title: '[商品名]を最安値で買うための3ステップ', chars: '300-400', desc: '具体的な購入手順をチェックリスト形式で' },
      { title: 'パパラボが選んだベストな買い方はコレ', chars: '200-300', desc: '結論と推薦' },
    ],
  },

  'coupon': {
    name: 'クーポン・セール',
    sections: [
      { title: '[商品名]のクーポン、実はこんなに種類がある', chars: '300-400', desc: 'クーポンの存在を知らずに損している人への問題提起' },
      { title: '今すぐ使えるクーポン・割引コード一覧', chars: '600-800', desc: 'Amazon・楽天・メーカー公式のクーポン情報を表形式で' },
      { title: 'ポイント還元を最大化する"重ね技"', chars: '500-700', desc: 'ポイントサイト経由、クレカ選び、キャンペーン併用テクニック' },
      { title: 'セールで狙い撃ち！年間お得カレンダー', chars: '500-600', desc: '月別のセール時期と割引率の傾向' },
      { title: '定期便・まとめ買い割引の活用法', chars: '400-500', desc: '定期便の割引率、解約の自由度、まとめ買いの損益分岐点' },
      { title: 'メーカー公式キャンペーン・試供品情報', chars: '400-500', desc: '公式サイト限定のプレゼントや試供品情報' },
      { title: 'クーポン利用時のよくある失敗と注意点', chars: '300-400', desc: '期限切れ、併用不可、最低購入金額などの落とし穴' },
      { title: '結局いくら安くなる？実際の節約シミュレーション', chars: '300-400', desc: '月間・年間での節約額を具体的に計算' },
      { title: 'パパラボの鉄板お得術はこれ！', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== 口コミ・評価系パターン ==========

  'reviews': {
    name: '口コミ・評判',
    sections: [
      { title: '[商品名]の評判、正直なところどうなの？', chars: '300-400', desc: '購入前の不安に寄り添う導入' },
      { title: '良い口コミTOP5を分析！みんなが絶賛するポイント', chars: '700-900', desc: '実際の口コミを引用しながら、良い点を5つに分類して分析' },
      { title: '悪い口コミ・低評価の内容を正直に公開', chars: '700-900', desc: '☆1-2の低評価レビューの内容を分類。どんな人が不満を持つのか' },
      { title: 'SNSでの評判は？Twitter・Instagram・ブログの声', chars: '500-600', desc: 'ECサイト以外の生の声を収集' },
      { title: '口コミから見えてきた[商品名]の"本当の実力"', chars: '500-700', desc: '良い・悪い口コミの傾向を総合分析' },
      { title: '悪い口コミは本当？パパラボが検証してみた', chars: '500-600', desc: '低評価の原因を分析し、対策できるものは対策を提示' },
      { title: 'こんな人は買って満足、こんな人は後悔しがち', chars: '400-500', desc: '口コミを元にした向き・不向き判定' },
      { title: '口コミ評価を数字でまとめると…', chars: '300-400', desc: '星評価の分布、良い/悪い比率をデータで' },
      { title: '結局買うべき？口コミから出したパパラボの結論', chars: '200-300', desc: '最終判断' },
    ],
  },

  'regret': {
    name: '後悔・デメリット',
    sections: [
      { title: '「買わなきゃよかった…」[商品名]で後悔した人の声', chars: '300-400', desc: '衝撃的な後悔エピソードから入る' },
      { title: '後悔ポイント① 想像と違った○○', chars: '500-700', desc: '最も多い後悔理由を深掘り' },
      { title: '後悔ポイント② 見落としがちな○○', chars: '500-700', desc: '2番目の後悔理由。購入前に気づきにくい点' },
      { title: '後悔ポイント③ ○○との相性問題', chars: '500-700', desc: '環境・使い方による相性の問題' },
      { title: 'でも「買ってよかった」人の方が多い理由', chars: '500-600', desc: 'デメリットの裏にあるメリットを紹介してバランスを取る' },
      { title: '後悔しないための購入前チェックリスト', chars: '400-500', desc: '5つのチェック項目で後悔を防ぐ' },
      { title: '代わりに検討すべき競合商品はこれ', chars: '400-500', desc: 'デメリットが気になる人への代替案' },
      { title: '買って後悔する人 vs 満足する人の決定的な違い', chars: '300-400', desc: '明確な判断基準を提示' },
      { title: 'パパラボの正直な評価：結局アリかナシか', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== 比較・選び方系パターン ==========

  'comparison': {
    name: '徹底比較',
    sections: [
      { title: '[商品名]と迷ったら読んで！後悔しない選び方', chars: '300-400', desc: '比較で悩んでいる読者への共感' },
      { title: '基本スペックを並べて比較してみた', chars: '700-900', desc: '価格・サイズ・重量・素材など基本項目の比較表' },
      { title: '実際の使いやすさで比較：ここが決定的に違う', chars: '600-800', desc: '口コミベースの使用感比較' },
      { title: 'コスパで比較：長期的にお得なのはどっち？', chars: '500-600', desc: '初期費用とランニングコストの比較' },
      { title: '安全性・品質で比較：信頼できるのはどっち？', chars: '500-600', desc: 'メーカーの信頼性、素材、認証などで比較' },
      { title: 'こんな家庭にはA、こんな家庭にはBがベスト', chars: '400-500', desc: '生活スタイル別の推薦' },
      { title: '比較して分かった意外な共通点と盲点', chars: '300-400', desc: '比較する中で見えた新しい発見' },
      { title: '10項目の比較を一覧表でまとめ', chars: '400-500', desc: '全比較項目を一覧表で整理' },
      { title: 'パパラボならどっちを選ぶ？理由も添えて', chars: '200-300', desc: '結論' },
    ],
  },

  'model-comparison': {
    name: '新旧モデル比較',
    sections: [
      { title: '[商品名]の新型と旧型、何が変わったの？', chars: '300-400', desc: 'モデルチェンジで悩む読者への導入' },
      { title: '新旧モデルのスペック比較表', chars: '600-800', desc: '変更点を表形式で一覧化' },
      { title: '実は変わってない部分も多い？共通のポイント', chars: '400-500', desc: '変わらない良さを紹介' },
      { title: '新型だけの新機能・改良点を深掘り', chars: '600-700', desc: '新型のメリットを具体的に解説' },
      { title: '旧型＝型落ちの最大のメリットは「価格」', chars: '500-600', desc: '型落ちの価格差と、機能差が許容範囲かの判断基準' },
      { title: '口コミ比較：新旧ユーザーの満足度は？', chars: '400-500', desc: '両モデルの口コミ傾向' },
      { title: '旧型を買って後悔するケース、しないケース', chars: '400-500', desc: '判断の分かれ目を明確に' },
      { title: '今買うなら新型？旧型？シーン別おすすめ', chars: '300-400', desc: '予算重視/機能重視で分けて推薦' },
      { title: 'パパラボの最終結論', chars: '200-300', desc: '結論' },
    ],
  },

  'size-check': {
    name: 'サイズ・適合確認',
    sections: [
      { title: '「サイズ合わなかった…」を防ぐための完全ガイド', chars: '300-400', desc: 'サイズミスの失敗談で共感' },
      { title: '[商品名]の実寸サイズ・重量データ', chars: '500-600', desc: '公式スペックと実測値をcm単位で詳細に' },
      { title: '車に乗る？N-BOX・タント・フリードで検証', chars: '600-800', desc: '軽自動車・コンパクトカーへの適合確認（表付き）' },
      { title: '部屋に置いた時の存在感は？間取り別シミュレーション', chars: '500-600', desc: 'ワンルーム・2LDKなど間取り別の設置イメージ' },
      { title: '玄関・エレベーター・改札は通れる？移動時のサイズ感', chars: '400-500', desc: '日常シーンでの取り回し' },
      { title: '実際に使った人の「サイズ感」口コミまとめ', chars: '400-500', desc: '口コミから拾ったリアルなサイズ感レビュー' },
      { title: 'サイズ選びで後悔しないためのチェックリスト', chars: '300-400', desc: '購入前に確認すべき5項目' },
      { title: '収納時のサイズ・折りたたみ状態も確認', chars: '300-400', desc: '使わない時のサイズ情報' },
      { title: '「自分の環境に合うか？」最終チェック', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== 使い方・時期系パターン ==========

  'when-to-start': {
    name: 'いつから使える？',
    sections: [
      { title: '[商品名]、生後何ヶ月から使っていいの？', chars: '300-400', desc: '月齢と使用開始時期の不安に応える' },
      { title: 'メーカー推奨の対象月齢・対象年齢は？', chars: '400-500', desc: '公式見解をベースに解説' },
      { title: '月齢別の使い方ガイド：新生児〜6ヶ月', chars: '500-700', desc: '低月齢での使い方と注意点' },
      { title: '月齢別の使い方ガイド：6ヶ月〜1歳', chars: '500-700', desc: '中期の使い方と量の目安' },
      { title: '1歳を過ぎたらどう変わる？成長に合わせた調整', chars: '400-500', desc: '成長段階に合わせた使い方の変化' },
      { title: '「早すぎた」「遅すぎた」先輩ママの体験談', chars: '400-500', desc: '口コミベースのリアルな声' },
      { title: '始める前に知っておくべき注意点', chars: '400-500', desc: '安全面・衛生面の注意' },
      { title: '始めるサインはこれ！チェックリスト', chars: '300-400', desc: '赤ちゃんの準備ができたかの判断基準' },
      { title: '迷っているなら「○ヶ月」を目安に', chars: '200-300', desc: '結論' },
    ],
  },

  'until-when': {
    name: 'いつまで使える',
    sections: [
      { title: '[商品名]、いつまで使っていいの？卒業のタイミング', chars: '300-400', desc: '卒業時期の悩みに共感' },
      { title: 'メーカー推奨の使用期限・対象年齢上限', chars: '400-500', desc: '公式情報ベース' },
      { title: '卒業のサインはこの5つ！見逃さないで', chars: '500-700', desc: '子供の成長段階に基づく卒業サイン' },
      { title: '無理に使い続けるとどうなる？リスクと注意', chars: '400-500', desc: '使い続けるリスク（安全面・発達面）' },
      { title: '卒業後の次のステップ：おすすめの移行先', chars: '500-600', desc: '次に買うべき商品・サービスの紹介' },
      { title: '少しでも長く使うための工夫と裏ワザ', chars: '400-500', desc: '長持ちさせるコツ、拡張方法' },
      { title: '卒業後の活用法：売る・譲る・リメイク', chars: '400-500', desc: '使い終わった後の処分方法' },
      { title: '年齢別の使用状況アンケート結果', chars: '300-400', desc: 'データベースの使用期間情報' },
      { title: 'うちの子のベストな卒業時期を見極めよう', chars: '200-300', desc: '結論' },
    ],
  },

  'how-to-use': {
    name: '使い方・コツ',
    sections: [
      { title: '説明書だけじゃ分からない！[商品名]の"本当の"使い方', chars: '300-400', desc: '説明書では伝わらない実践的な使い方への導入' },
      { title: '開封〜セットアップ完全ガイド（写真で解説）', chars: '600-800', desc: '初回セットアップの手順を詳しく' },
      { title: '基本の使い方を3ステップで解説', chars: '500-600', desc: 'シンプルな基本操作' },
      { title: '知らないと損する！上級者テクニック5選', chars: '600-800', desc: '便利な使い方、裏ワザ、時短テクニック' },
      { title: 'やりがちな間違い・NGな使い方', chars: '500-600', desc: 'よくある失敗と正しい方法' },
      { title: '月齢・年齢別の使い方アレンジ', chars: '400-500', desc: '成長に合わせた使い方の変化' },
      { title: 'トラブル時の対処法Q&A', chars: '400-500', desc: 'よくあるトラブルと解決策' },
      { title: '先輩ママの「もっと早く知りたかった」テクニック', chars: '300-400', desc: '口コミベースのライフハック' },
      { title: 'これだけ覚えれば完璧！使い方のまとめ', chars: '200-300', desc: '結論' },
    ],
  },

  'quantity': {
    name: '何個必要？',
    sections: [
      { title: '[商品名]は何個（何枚）買えばいい？出産準備の正解', chars: '300-400', desc: '数量に悩む読者への導入' },
      { title: '月齢別の消費量・使用頻度データ', chars: '600-800', desc: '月齢ごとの1日あたり使用量を表で' },
      { title: '出産準備で揃えるべき初回購入数', chars: '500-600', desc: '最初に買うべき量の目安' },
      { title: 'まとめ買いは何個が正解？在庫の目安', chars: '500-600', desc: 'まとめ買いの適正量と保管スペース' },
      { title: '買いすぎて失敗した先輩ママの体験談', chars: '400-500', desc: '買いすぎ・足りなすぎの失敗例' },
      { title: 'サイズアウト・好み変更リスクへの備え', chars: '400-500', desc: 'サイズ変更や好みの変化による余りリスク' },
      { title: '定期便と都度購入、数量管理はどっちがラク？', chars: '400-500', desc: '在庫管理の観点から' },
      { title: '「○個ストック」がベスト！数量チェックリスト', chars: '300-400', desc: '結論的な推奨数量' },
      { title: 'パパラボの結論：初回は○個買おう', chars: '200-300', desc: '結論' },
    ],
  },

  'tips': {
    name: '食べない時の対処法',
    sections: [
      { title: '[商品名]を食べてくれない…パパの絶望と希望', chars: '300-400', desc: '食べない悩みへの共感' },
      { title: 'そもそも食べない原因は何？5つの可能性', chars: '500-700', desc: '味・食感・温度・タイミングなど原因を分析' },
      { title: 'アレンジレシピ5選！混ぜるだけで完食した方法', chars: '700-900', desc: '具体的なアレンジレシピ' },
      { title: '食べやすくする"ちょっとしたコツ"', chars: '500-600', desc: '温度調整、器の選び方、食べさせ方のテクニック' },
      { title: '先輩ママが見つけた「これなら食べた！」組み合わせ', chars: '500-600', desc: '口コミベースの成功例' },
      { title: '無理に食べさせるのはNG？栄養士の見解', chars: '400-500', desc: '専門家の意見、無理強いのリスク' },
      { title: 'どうしてもダメなら代替品も検討しよう', chars: '400-500', desc: '代替商品の紹介' },
      { title: '年齢別・食べない時期の乗り越え方', chars: '300-400', desc: '時期的なものか、好みの問題かの判断' },
      { title: '焦らなくて大丈夫。パパラボからのメッセージ', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== 安全・トラブル系パターン ==========

  'skin-trouble': {
    name: '肌トラブル・相性',
    sections: [
      { title: '[商品名]で肌が赤くなった…それって相性の問題？', chars: '300-400', desc: '肌トラブルへの不安に共感' },
      { title: '成分・素材を徹底分析：肌に優しい理由と注意点', chars: '600-800', desc: '原材料、添加物、pH値などの分析' },
      { title: '敏感肌・アトピー肌の子の口コミを集めてみた', chars: '600-800', desc: '敏感肌ユーザーの口コミを分類' },
      { title: '肌トラブルが起きやすい使い方・条件', chars: '500-600', desc: '蒸れ、交換頻度、季節要因など' },
      { title: '他商品と肌への優しさを比較', chars: '500-700', desc: '競合商品との素材・成分比較表' },
      { title: '肌トラブルを予防するための正しい使い方', chars: '400-500', desc: '交換頻度、保湿併用、サイズ選びなど' },
      { title: '医師・専門家はどう見ている？', chars: '400-500', desc: '皮膚科医の見解やガイドライン' },
      { title: '合わなかった場合の切り替え先リスト', chars: '300-400', desc: '代替商品の紹介' },
      { title: 'まずは少量から試すのが正解', chars: '200-300', desc: '結論' },
    ],
  },

  'safety': {
    name: '安全対策',
    sections: [
      { title: '[商品名]の安全性、親として本当に大丈夫？', chars: '300-400', desc: '安全面への不安に共感' },
      { title: '安全基準・認証マークを確認してみた', chars: '500-600', desc: 'JIS、SGマーク、CE、ASTMなどの認証状況' },
      { title: '過去の事故事例と原因分析', chars: '500-700', desc: '国民生活センター等のデータから事故事例を紹介' },
      { title: '正しい使い方で防げる事故と防げない事故', chars: '500-600', desc: '使い方次第で防げるリスクを明確に' },
      { title: '必須の安全装備・アクセサリーリスト', chars: '400-500', desc: 'ヘルメット、プロテクター等の必要装備' },
      { title: '年齢別の安全チェックポイント', chars: '400-500', desc: '月齢・年齢に合わせた注意点' },
      { title: '安全に使うための親の見守りポイント', chars: '400-500', desc: '日常的に気をつけるべきこと' },
      { title: '定期点検のやり方と交換時期', chars: '300-400', desc: 'メンテナンスと安全チェック方法' },
      { title: '安心して使うための最終チェックリスト', chars: '200-300', desc: '結論' },
    ],
  },

  'cleaning': {
    name: '汚れ・お手入れ',
    sections: [
      { title: '[商品名]のお手入れ、ちゃんとできてる？', chars: '300-400', desc: '手入れ不足への気づきを促す' },
      { title: '素材別の正しい洗い方・お手入れ方法', chars: '600-800', desc: '素材ごとの洗濯方法を詳しく解説' },
      { title: 'カバーの外し方〜洗濯〜乾燥の完全手順', chars: '500-700', desc: 'ステップバイステップの手入れガイド' },
      { title: 'カビ・臭い・黄ばみの対処法', chars: '500-600', desc: 'トラブル別の対処方法' },
      { title: '洗濯頻度はどのくらいがベスト？', chars: '400-500', desc: '使用環境に応じた洗濯頻度の目安' },
      { title: '時短で清潔を保つコツ5つ', chars: '400-500', desc: '忙しいパパママ向けの時短手入れ術' },
      { title: 'NGなお手入れ方法：これだけはやめて', chars: '300-400', desc: '素材を傷める間違った手入れ方法' },
      { title: 'お手入れに便利なおすすめグッズ', chars: '300-400', desc: '洗剤、ブラシなどの便利グッズ紹介' },
      { title: 'お手入れのスケジュール表を作ろう', chars: '200-300', desc: '結論' },
    ],
  },

  'repair': {
    name: '修理・メンテナンス',
    sections: [
      { title: '[商品名]が壊れた！捨てる前に読んでほしい', chars: '300-400', desc: '故障時のパニックに共感' },
      { title: 'よくある故障パターンと原因', chars: '500-700', desc: '壊れやすい箇所と原因を解説' },
      { title: '自分で直せる修理方法ガイド', chars: '600-800', desc: 'DIY修理の手順を具体的に' },
      { title: '交換パーツの入手先と価格', chars: '500-600', desc: 'メーカー直販、Amazon、互換パーツの入手方法' },
      { title: 'メーカー修理に出す方法と費用', chars: '400-500', desc: '問い合わせ先、修理費用、期間' },
      { title: '修理 vs 買い替え、どっちが得？判断基準', chars: '400-500', desc: 'コスト比較と判断のポイント' },
      { title: '故障を防ぐ日常メンテナンス', chars: '400-500', desc: '予防的メンテナンスの方法' },
      { title: '保証期間内なら無料修理を活用しよう', chars: '300-400', desc: '保証の活用方法' },
      { title: 'まずはメーカーに問い合わせを', chars: '200-300', desc: '結論' },
    ],
  },

  'warranty': {
    name: '返品・保証',
    sections: [
      { title: '[商品名]の保証、実際どこまでカバーしてくれる？', chars: '300-400', desc: '保証に関する疑問への導入' },
      { title: 'メーカー保証の範囲と期間を詳しく解説', chars: '600-700', desc: '保証書の内容を噛み砕いて解説' },
      { title: '保証の対象になる故障・ならない故障', chars: '500-600', desc: '保証適用の具体的な線引き' },
      { title: '修理依頼の手順と問い合わせ先', chars: '500-600', desc: '連絡先、必要書類、流れを解説' },
      { title: '返品・交換の条件と手順（購入店別）', chars: '500-600', desc: 'Amazon、楽天、店舗別の返品条件' },
      { title: '延長保証は入るべき？コスパ検証', chars: '400-500', desc: '延長保証の必要性を検討' },
      { title: '保証が切れた後の対応方法', chars: '300-400', desc: '保証期間外の修理・交換方法' },
      { title: '保証を確実に受けるためにやっておくべきこと', chars: '300-400', desc: 'レシート保管、製品登録など' },
      { title: '保証はお守り。安心して使おう', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== 中古・二次利用系パターン ==========

  'used': {
    name: '中古・メルカリ',
    sections: [
      { title: '[商品名]、中古で買っても大丈夫？正直に答えます', chars: '300-400', desc: '中古購入の不安に応える' },
      { title: 'メルカリ・ラクマの相場を調査してみた', chars: '600-800', desc: '中古市場の価格帯をデータで' },
      { title: '中古で買う時の5つのチェックポイント', chars: '600-800', desc: '年式、使用期間、パーツ欠品、衛生面、動作確認' },
      { title: 'これは中古NG！絶対に新品を買うべきケース', chars: '500-600', desc: '安全面で中古が危険なケース' },
      { title: '高く売るためのコツ：時期・状態・写真の撮り方', chars: '500-600', desc: '売却側のテクニック' },
      { title: '中古 vs 新品、トータルコストで比較', chars: '400-500', desc: 'リセールバリューを含めたコスト計算' },
      { title: 'フリマアプリでのトラブル事例と回避方法', chars: '400-500', desc: 'よくあるトラブルとその防ぎ方' },
      { title: 'お下がりをもらう場合の注意点', chars: '300-400', desc: '知人からのお下がりに関する注意' },
      { title: '中古購入の判定フローチャート', chars: '200-300', desc: '結論' },
    ],
  },

  'hand-me-down': {
    name: 'お下がり・2人目',
    sections: [
      { title: '[商品名]は2人目にお下がりできる？衛生面を調べた', chars: '300-400', desc: 'お下がりの可否への疑問' },
      { title: 'お下がりOK/NGの判断基準', chars: '500-600', desc: '安全基準の変更、劣化具合での判断方法' },
      { title: '衛生面のチェックと消毒方法', chars: '500-700', desc: '洗浄・消毒の具体的な手順' },
      { title: '劣化・消耗チェックリスト', chars: '500-600', desc: '交換すべきパーツ、使用限度の見極め' },
      { title: '2人目に使う前のメンテナンス手順', chars: '400-500', desc: 'お下がり前にやるべき手入れ' },
      { title: '追加で買い足すべきパーツ・アクセサリー', chars: '400-500', desc: '消耗品の交換、追加購入が必要なもの' },
      { title: '兄弟姉妹で同時に使う場合のアイデア', chars: '300-400', desc: '上の子と下の子で同時使用するケース' },
      { title: 'お下がり vs 新品購入のコスト比較', chars: '300-400', desc: '経済的なメリットを数字で' },
      { title: 'パパラボの結論：お下がりで○○は節約しよう', chars: '200-300', desc: '結論' },
    ],
  },

  'rent-vs-buy': {
    name: 'レンタルvs購入',
    sections: [
      { title: '[商品名]は買うべき？それともレンタルが賢い？', chars: '300-400', desc: 'レンタルか購入かで迷う読者への導入' },
      { title: 'レンタル料金 vs 購入価格を徹底比較', chars: '600-800', desc: '主要レンタルサービスの料金と購入価格の比較表' },
      { title: '○ヶ月以上使うなら購入が得！損益分岐点を計算', chars: '500-700', desc: '使用期間別のコスト試算' },
      { title: 'レンタルのメリット：こんな家庭には最適', chars: '500-600', desc: 'レンタル向きのケース' },
      { title: '購入のメリット：こんな家庭には買った方がいい', chars: '500-600', desc: '購入向きのケース' },
      { title: 'レンタルの落とし穴：注意すべき点', chars: '400-500', desc: '傷つけた時の費用、在庫切れ、衛生面' },
      { title: 'おすすめレンタルサービスの比較', chars: '400-500', desc: '主要サービスの特徴比較' },
      { title: 'レンタルで試してから購入する"ハイブリッド"戦略', chars: '300-400', desc: '賢い活用法の提案' },
      { title: 'パパラボの結論：うちは○○を選んだ理由', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== プレゼント・ギフト系 ==========

  'gift': {
    name: 'プレゼント・ギフト',
    sections: [
      { title: '[商品名]を贈り物に選んで大丈夫？喜ばれるポイント', chars: '300-400', desc: 'ギフト選びの不安に応える' },
      { title: 'ギフトとしての[商品名]の魅力', chars: '400-500', desc: 'なぜこの商品がギフト向きなのか' },
      { title: '出産祝い・誕生日・クリスマス、シーン別の選び方', chars: '600-700', desc: 'シーン別のおすすめ度と注意点' },
      { title: 'ラッピング対応・熨斗・メッセージカード情報', chars: '500-600', desc: '各購入先のギフト対応状況' },
      { title: '予算別おすすめ：3000円/5000円/10000円', chars: '500-600', desc: '予算に合わせたセット提案' },
      { title: '贈って喜ばれた人、微妙だった人の体験談', chars: '400-500', desc: '口コミベースのギフト反応' },
      { title: 'ギフトで贈る時のマナーと注意点', chars: '400-500', desc: '贈り物のマナー、避けるべきこと' },
      { title: 'もらって困る場合も？事前確認のすすめ', chars: '300-400', desc: '被りや好みの問題への対策' },
      { title: '迷ったら[商品名]を選べば間違いない理由', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== その他の生活系パターン ==========

  'seasonal': {
    name: '季節別の使い方',
    sections: [
      { title: '夏の[商品名]、暑さで大丈夫？季節別の使い方ガイド', chars: '300-400', desc: '季節の悩みへの導入' },
      { title: '夏場の使い方：蒸れ対策・暑さ対策のコツ', chars: '600-800', desc: '夏の具体的な対策方法' },
      { title: '冬場の使い方：防寒対策・乾燥対策', chars: '600-800', desc: '冬の対策方法' },
      { title: '梅雨・雨の日の使い方と保管方法', chars: '400-500', desc: '湿気対策、カビ防止' },
      { title: '季節の変わり目に気をつけること', chars: '400-500', desc: '春秋の注意点' },
      { title: '季節別の便利アクセサリー・グッズ', chars: '400-500', desc: '季節ごとのオプション品紹介' },
      { title: '先輩パパママの季節別ワンポイントアドバイス', chars: '400-500', desc: '口コミベースの季節対策' },
      { title: 'オールシーズン対応の裏ワザ', chars: '300-400', desc: '年中使えるテクニック' },
      { title: '季節を味方につけて快適に使おう', chars: '200-300', desc: '結論' },
    ],
  },

  'storage': {
    name: '収納・片付け',
    sections: [
      { title: '[商品名]の置き場所、みんなどうしてる？', chars: '300-400', desc: '収納の悩みに共感' },
      { title: '実寸サイズと必要スペースの確認', chars: '400-500', desc: '収納に必要なスペースを具体的に' },
      { title: 'マンション・アパートでの収納アイデア10選', chars: '700-900', desc: '狭い家での具体的な収納方法' },
      { title: '使わない時のしまい方・保管方法', chars: '500-600', desc: 'オフシーズンや一時保管の方法' },
      { title: '100均・ニトリで作る収納グッズ', chars: '400-500', desc: 'コスパの良い収納グッズ紹介' },
      { title: 'パーツの紛失を防ぐ管理術', chars: '400-500', desc: '小さなパーツの整理方法' },
      { title: '子供が自分で片付けられる仕組み作り', chars: '400-500', desc: '片付け習慣づくりのコツ' },
      { title: '「出しっぱなし」をおしゃれに見せるテクニック', chars: '300-400', desc: '見せる収納のアイデア' },
      { title: '収納を制する者は子育てを制する', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== 判断・検討系パターン ==========

  'necessity': {
    name: '必要性の検討',
    sections: [
      { title: '[商品名]って本当に必要？なくても困らない説を検証', chars: '300-400', desc: '必要性への疑問を正面から受け止める' },
      { title: '「必要だった」派の意見を集めてみた', chars: '600-700', desc: '必要派の具体的な理由' },
      { title: '「なくても大丈夫だった」派の意見も聞いてみた', chars: '600-700', desc: '不要派の具体的な理由' },
      { title: '代用品で済ませることは可能？', chars: '500-600', desc: '代用品の紹介とメリデメ' },
      { title: 'こんな生活環境なら「必須」と言い切れる', chars: '400-500', desc: '必要になるケースの明確化' },
      { title: 'こんな家庭なら「なくてもOK」', chars: '400-500', desc: '不要なケースの明確化' },
      { title: '買うタイミングは今？それとも様子見？', chars: '400-500', desc: '購入タイミングの判断基準' },
      { title: '「必要度」判定フローチャート', chars: '300-400', desc: 'YES/NOで判定できるフローチャート' },
      { title: 'パパラボの結論：悩んでいるなら○○', chars: '200-300', desc: '結論' },
    ],
  },

  'alternative': {
    name: '代用・100均比較',
    sections: [
      { title: '[商品名]は100均で代用できる？本物との違いを検証', chars: '300-400', desc: '節約志向の読者への導入' },
      { title: 'ダイソー・セリア・キャンドゥの類似品を調査', chars: '600-800', desc: '100均の代用品の紹介と特徴' },
      { title: '本物と100均品を5項目で徹底比較', chars: '600-800', desc: '品質・安全性・耐久性・機能性・コスパの比較表' },
      { title: '安全性は大丈夫？素材と品質の違い', chars: '500-600', desc: '安全基準の違い、子供に使う場合のリスク' },
      { title: '耐久性テスト：何回使えるかを検証', chars: '400-500', desc: '耐久性の違いを比較' },
      { title: '結局トータルコストはどっちが安い？', chars: '400-500', desc: '買い替え頻度を考慮したコスト比較' },
      { title: '代用品でOKな場面、本物が必要な場面', chars: '400-500', desc: 'シーン別の使い分けガイド' },
      { title: 'コスパ最強の「いいとこ取り」戦略', chars: '300-400', desc: '本物と代用品を上手に使い分ける方法' },
      { title: 'パパラボの結論：ここにはお金をかけよう', chars: '200-300', desc: '結論' },
    ],
  },

  'authentic': {
    name: '偽物・正規品',
    sections: [
      { title: '[商品名]の偽物が出回っている？見分け方を徹底解説', chars: '300-400', desc: '偽物への注意喚起' },
      { title: '正規品と偽物の見分け方5つのポイント', chars: '600-800', desc: 'パッケージ、ロゴ、品質、価格、購入先の見分け方' },
      { title: '偽物が売られている場所・ルート', chars: '500-600', desc: 'フリマアプリ、格安サイトなどリスクの高い購入先' },
      { title: '並行輸入品は偽物？正規品との違い', chars: '500-600', desc: '並行輸入品のメリット・デメリット' },
      { title: '正規品を確実に買える正規販売店リスト', chars: '500-600', desc: '公式サイト、正規代理店のリスト' },
      { title: '偽物を買ってしまった場合の対処法', chars: '400-500', desc: '返品方法、通報先' },
      { title: 'Amazonで正規品を買う時の注意点', chars: '400-500', desc: '出品者の見極め方、公式ストアの確認方法' },
      { title: '安全な購入先チェックリスト', chars: '300-400', desc: '購入前の確認事項' },
      { title: '安心には代えられない。正規品を選ぼう', chars: '200-300', desc: '結論' },
    ],
  },

  // ========== 知育・効果系パターン ==========

  'effect': {
    name: '効果・成長記録',
    sections: [
      { title: '[商品名]で遊んだら本当に賢くなる？効果を調べた', chars: '300-400', desc: '知育効果への期待と疑問' },
      { title: 'メーカーが謳う知育効果を分析', chars: '500-600', desc: 'パッケージに書かれた効果の根拠を検証' },
      { title: '教育の専門家はどう評価している？', chars: '500-700', desc: '幼児教育の専門家の見解や研究データ' },
      { title: '口コミで見つけた「こんな変化があった！」体験談', chars: '600-800', desc: '実際の子供の変化に関する口コミ' },
      { title: '効果を最大化する遊ばせ方・関わり方', chars: '500-600', desc: '親の関わり方で効果が変わるポイント' },
      { title: '年齢別の遊び方ガイド', chars: '400-500', desc: '年齢に合わせた活用方法' },
      { title: '効果が出にくいケースと対処法', chars: '400-500', desc: '興味を示さない場合の工夫' },
      { title: '類似の知育玩具との効果比較', chars: '300-400', desc: '他の選択肢との比較' },
      { title: '知育は「楽しい」が最強。パパラボの結論', chars: '200-300', desc: '結論' },
    ],
  },

  'age-guide': {
    name: '年齢別ガイド',
    sections: [
      { title: '[商品名]は何歳から何歳まで楽しめる？年齢別ガイド', chars: '300-400', desc: '対象年齢の疑問に応える' },
      { title: '対象年齢の公式情報と実際の口コミの差', chars: '500-600', desc: 'メーカー推奨と実際の使用者の声の比較' },
      { title: '1歳〜2歳の遊び方・使い方', chars: '500-700', desc: '低年齢での活用方法' },
      { title: '3歳〜4歳の遊び方・使い方', chars: '500-700', desc: '中間年齢での活用方法' },
      { title: '5歳以上：まだ楽しめる？遊びの発展のさせ方', chars: '400-500', desc: '対象年齢上限付近での遊び方' },
      { title: '早すぎた・遅すぎた…失敗しない年齢の見極め方', chars: '400-500', desc: '開始時期の判断基準' },
      { title: '兄弟で一緒に遊ぶ場合のコツ', chars: '300-400', desc: '異年齢での使い方' },
      { title: '年齢別おすすめ度を星で評価', chars: '300-400', desc: '年齢ごとのおすすめ度を表で' },
      { title: 'ベストな開始年齢はズバリ○歳', chars: '200-300', desc: '結論' },
    ],
  },
};

// デフォルト構成（上記に該当しないパターン用のフォールバック）
const defaultSections = [
  { title: '[商品名]について、パパラボが本気で調べてみた', chars: '300-400', desc: '読者の悩みに共感する冒頭' },
  { title: 'そもそも[商品名]って何がすごいの？', chars: '400-500', desc: '商品の概要と特徴' },
  { title: 'この記事で分かる5つのこと', chars: '100-150', desc: '記事の内容予告' },
  { title: '数字で見る[商品名]の実力', chars: '600-800', desc: '具体的なデータ・比較情報' },
  { title: '調べて分かった、リアルな評判と実力', chars: '1500-2000', desc: '口コミ分析と詳細レビュー' },
  { title: '先輩パパママに聞いた！失敗しないコツ', chars: '600-800', desc: '実用的なアドバイス' },
  { title: '買う前に知っておきたい注意点', chars: '500-700', desc: 'デメリット・注意点を正直に' },
  { title: '[商品名]が向いてる人、向いてない人', chars: '300-400', desc: '判断基準の提示' },
  { title: 'パパラボの最終結論', chars: '200-300', desc: '背中を押す結論' },
];

/**
 * パターンキーに対応するセクション構成を取得
 * @param {string} patternKey - パターンキー (例: 'where-to-buy')
 * @param {string} productName - 商品名（見出しの[商品名]を置換）
 * @returns {Array} セクション構成の配列
 */
function getSections(patternKey, productName) {
  const patternData = patternSections[patternKey];
  const sections = patternData ? patternData.sections : defaultSections;

  return sections.map(s => ({
    ...s,
    title: s.title.replace(/\[商品名\]/g, productName),
  }));
}

/**
 * プロンプト用のセクション構成テキストを生成
 * @param {string} patternKey - パターンキー
 * @param {string} productName - 商品名
 * @returns {string} プロンプトに埋め込むセクション構成テキスト
 */
function getSectionPrompt(patternKey, productName) {
  const sections = getSections(patternKey, productName);
  let text = '';
  sections.forEach((s, i) => {
    text += `${i + 1}. ${s.desc}（${s.chars}文字）\n`;
    text += `   見出し例：「${s.title}」\n\n`;
  });
  return text;
}

module.exports = { patternSections, defaultSections, getSections, getSectionPrompt };
